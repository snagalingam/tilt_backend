{"version":3,"sources":["apollo/mutations/account.js","components/googleOAuth/GoogleOAuth.jsx","components/sideCarousel/SideCarousel.jsx","views/login/loginForm/LoginForm.jsx","views/login/Login.jsx"],"names":["LOGIN","gql","SIGN_UP","ONBOARD_USER","LOGOUT_USER","GoogleOAuth","signup","login","id","src","alt","messages","primary","secondary","image","SideCarousel","useState","length","numberOfItems","selectedIndex","selectIndex","useEffect","carouselInterval","setInterval","prevIndex","clearInterval","className","onClick","role","map","message","index","key","style","backgroundImage","backgroundPosition","backgroundRepeat","backgroundSize","loginSchema","yup","shape","email","required","password","FieldSet","name","label","fieldType","children","type","errors","touched","htmlFor","to","as","LoginForm","useMutation","loginUser","response","data","user","isLoggedInVar","initialValues","undefined","validationSchema","onSubmit","values","variables","state","Login","useQuery","GET_IS_LOGGED_IN","isLoggedIn","push"],"mappings":"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","file":"static/js/4.1ef6a154.chunk.js","sourcesContent":["import { gql } from \"@apollo/client\";\n\nexport const LOGIN = gql`\n  mutation LoginUser($email: String!, $password: String!) {\n    loginUser(email: $email, password: $password) {\n      user {\n        email\n      }\n    }\n  }\n`;\n\nexport const SIGN_UP = gql`\n  mutation CreateUser(\n    $email: String!\n    $firstName: String\n    $lastName: String\n    $password: String!\n  ) {\n    createUser(\n      email: $email\n      firstName: $firstName\n      lastName: $lastName\n      password: $password\n    ) {\n      user {\n        firstName\n        lastName\n        email\n      }\n    }\n  }\n`;\n\nexport const ONBOARD_USER = gql`\n  mutation OnboardUser(\n    $id: ID\n    $gpa: Float\n    $actScore: Int\n    $satScore: Int\n    $termsAndConditions: Boolean\n    $pronouns: String\n    $ethnicity: String\n    $userType: String\n    $highSchoolGradYear: Int\n  ) {\n    onboardUser(\n      id: $id\n      gpa: $gpa\n      actScore: $actScore\n      satScore: $satScore\n      termsAndConditions: $termsAndConditions\n      pronouns: $pronouns\n      ethnicity: $ethnicity\n      userType: $userType\n      highSchoolGradYear: $highSchoolGradYear\n    ) {\n      user {\n        email\n        firstName\n        lastName\n        email\n      }\n    }\n  }\n`;\n\nexport const LOGOUT_USER = gql`\n  mutation LogoutUser {\n    logoutUser {\n      user {\n        email\n      }\n    }\n  }\n`;\n","import React from \"react\";\n\nimport \"./google-oauth.scss\";\n\nconst GoogleOAuth = ({ signup, login }) => {\n  return (\n    <button id=\"google-oauth-button\">\n      <img\n        src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Google_%22G%22_Logo.svg/1004px-Google_%22G%22_Logo.svg.png\"\n        alt=\"google-logo\"\n      />\n      {signup && \"Sign up with Google\"}\n      {login && \"Login with Google\"}\n    </button>\n  );\n};\n\nexport default GoogleOAuth;\n","import React, { useState, useEffect } from \"react\";\n\nimport \"./side-carousel.scss\";\n\nconst messages = [\n  {\n    primary:\n      \"We provide friendly reports simplifying your financial aid package and helping you compare across colleges\",\n    secondary: \"Jane Cooper - Director Butler College Prep\",\n    image:\n      \"https://res.cloudinary.com/dgbm9hshy/image/upload/v1564596730/LRM_EXPORT_177119709472004_20190731_110718849_jlfv22.jpg\",\n  },\n  {\n    primary: \"I enjoy building interactive and intuitive user interfaces\",\n    secondary: \"Tony Yu, Software Engineer\",\n    image:\n      \"https://res.cloudinary.com/dgbm9hshy/image/upload/v1566720969/IMG_20190310_152414_807_acakcz.jpg\",\n  },\n  {\n    primary: \"Don't give me any devops tasks\",\n    secondary: \"Johnny Siu, Javascript Engineer\",\n    image:\n      \"https://scontent-sjc3-1.xx.fbcdn.net/v/t31.0-8/22095808_10154654866856650_6342051792776742728_o.jpg?_nc_cat=111&_nc_sid=09cbfe&_nc_ohc=XjSk7v3XQP8AX_CwtWQ&_nc_ht=scontent-sjc3-1.xx&oh=5dd522aea204cec8285241f4d4dae1e7&oe=5F3EE16B\",\n  },\n];\n\nconst SideCarousel = () => {\n  const [numberOfItems] = useState(messages.length);\n  const [selectedIndex, selectIndex] = useState(0);\n\n  function handleLeft() {\n    if (selectedIndex - 1 >= 0) {\n      selectIndex((prevIndex) => (prevIndex -= 1));\n    } else {\n      selectIndex(numberOfItems - 1);\n    }\n  }\n\n  function handleRight() {\n    if (selectedIndex + 1 <= numberOfItems - 1) {\n      selectIndex((prevIndex) => (prevIndex += 1));\n    } else {\n      selectIndex(0);\n    }\n  }\n\n  useEffect(() => {\n    function handleInterval() {\n      selectIndex((prevIndex) => {\n        if (prevIndex + 1 > numberOfItems - 1) {\n          return 0;\n        } else {\n          return (prevIndex += 1);\n        }\n      });\n    }\n    const carouselInterval = setInterval(handleInterval, 10000);\n    return () => {\n      clearInterval(carouselInterval);\n    };\n  }, [selectedIndex, numberOfItems]);\n\n  return (\n    <div className=\"side-carousel\">\n      <div className=\"side-carousel-controls\">\n        <div onClick={handleLeft} role=\"button\">\n          &#60;\n        </div>\n        <div onClick={handleRight} role=\"button\">\n          &#62;\n        </div>\n      </div>\n\n      <div className=\"tilt-messages\">\n        {messages.map((message, index) => {\n          return (\n            <div\n              key={message.secondary}\n              className={`tilt-message-container${\n                index === selectedIndex ? \" visible\" : \"\"\n              }`}\n              style={{\n                backgroundImage: `linear-gradient(rgba(0,0,0,0.1), rgba(0,0,0,0.5)), url(${message.image})`,\n                backgroundPosition: \"center\",\n                backgroundRepeat: \"no-repeat\",\n                backgroundSize: \"cover\",\n              }}\n            >\n              <p className=\"tilt-message-primary\">{message.primary}</p>\n              <p className=\"tilt-message-secondary\">{message.secondary}</p>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default SideCarousel;\n","import React, { useEffect } from \"react\";\nimport { Formik, Form, Field } from \"formik\";\nimport { Link } from \"react-router-dom\";\nimport { useMutation } from \"@apollo/client\";\nimport * as yup from \"yup\";\n\nimport { LOGIN } from \"../../../apollo/mutations/account\";\nimport { isLoggedInVar } from \"../../../apollo/reactiveVariables/account\";\n\nimport \"./login-form.scss\";\n\nconst loginSchema = yup.object().shape({\n  email: yup\n    .string()\n    .email(\"Invalid email\")\n    .required(\"Please enter your email\"),\n  password: yup.string().required(\"Password is required\"),\n});\n\nconst FieldSet = ({\n  name,\n  label,\n  fieldType,\n  children,\n  type,\n  errors,\n  touched,\n}) => (\n  <fieldset>\n    <label htmlFor={`login-${name}`}>\n      {label}\n      {name === \"password\" && (\n        <Link to=\"/reset-password\">Forgot Password?</Link>\n      )}\n    </label>\n    <Field as={fieldType} name={name} type={type}>\n      {children}\n    </Field>\n    {errors[name] && touched[name] && (\n      <span className=\"form-error\">{errors[name]}</span>\n    )}\n  </fieldset>\n);\n\nconst LoginForm = () => {\n  const [loginUser, response] = useMutation(LOGIN);\n\n  function handleSubmit(values) {\n    if (values) {\n      loginUser({ variables: values });\n    }\n  }\n\n  useEffect(() => {\n    if (response?.data?.loginUser?.user?.email) {\n      isLoggedInVar(true);\n    } else {\n      // TODO: try again\n    }\n  }, [response]);\n\n  return (\n    <Formik\n      initialValues={{\n        email: \"\",\n        password: undefined,\n      }}\n      validationSchema={loginSchema}\n      onSubmit={handleSubmit}\n    >\n      {(state) => (\n        <Form className=\"login-form\">\n          <FieldSet name=\"email\" label=\"Email\" {...state} />\n          <FieldSet\n            name=\"password\"\n            label=\"Password\"\n            type=\"password\"\n            {...state}\n          />\n\n          <button>Login</button>\n        </Form>\n      )}\n    </Formik>\n  );\n};\n\nexport default LoginForm;\n","import React from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { useQuery } from \"@apollo/client\";\n\nimport GoogleOAuth from \"../../components/googleOAuth/GoogleOAuth\";\nimport LoginForm from \"./loginForm/LoginForm\";\nimport SideCarousel from \"../../components/sideCarousel/SideCarousel\";\n\nimport { GET_IS_LOGGED_IN } from \"../../apollo/queries/account\";\n\nimport \"./login.scss\";\n\nconst Login = () => {\n  const { data: data_isLoggedIn } = useQuery(GET_IS_LOGGED_IN);\n  const { isLoggedIn } = data_isLoggedIn;\n\n  if (isLoggedIn) return <Redirect push to=\"/dashboard\" />;\n\n  return (\n    <div className=\"authentication-container login-container\">\n      <div className=\"authentication-left\">\n        <div className=\"tilt-logo\">\n          <img\n            src=\"https://www.tiltaccess.com/static/media/tilt_logo.e727179e.png\"\n            alt=\"tilt-logo\"\n          ></img>\n        </div>\n\n        <SideCarousel />\n      </div>\n\n      <div className=\"authentication-right\">\n        <div className=\"form-container\">\n          <div className=\"form-header\">\n            <h1>Welcome to Tilt</h1>\n            <p>\n              We provide friendly reports simplifying your financial aid\n              packages and helping you compare across colleges\n            </p>\n          </div>\n          <GoogleOAuth login />\n\n          <div className=\"form-divider\">\n            <div />\n            <span>OR</span>\n            <div />\n          </div>\n\n          <LoginForm />\n\n          <div className=\"form-footer\">\n            <p>\n              Don't have an account? <Link to=\"/signup\">Get started</Link>\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n"],"sourceRoot":""}